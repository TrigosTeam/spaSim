<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Tissue Image Simulator (TIS) integrates the basic simulation
functions in spaSim, including simulating (mixed) background image,
clusters, immune rings, double immune rings and stripes. The patterns are
simulated on separate layers sequentially (e.g. immune rings are simulated
after/on top of background cells). And each layer is also plot
sequentially.
Pattern properties (e.g. properties_of_clusters) contain the properties
of a pattern in the format of list where each element is one pattern. These
properties need to be manually defined. Details about the format of the
properties see the examples in simulate_clusters
simulate_immune_rings simulate_double_rings
simulate_stripes"><title>Tissue Image Simulator (TIS) — TIS • spaSim</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tissue Image Simulator (TIS) — TIS"><meta property="og:description" content="Tissue Image Simulator (TIS) integrates the basic simulation
functions in spaSim, including simulating (mixed) background image,
clusters, immune rings, double immune rings and stripes. The patterns are
simulated on separate layers sequentially (e.g. immune rings are simulated
after/on top of background cells). And each layer is also plot
sequentially.
Pattern properties (e.g. properties_of_clusters) contain the properties
of a pattern in the format of list where each element is one pattern. These
properties need to be manually defined. Details about the format of the
properties see the examples in simulate_clusters
simulate_immune_rings simulate_double_rings
simulate_stripes"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">spaSim</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/vignette.html">spaSim vignette</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Tissue Image Simulator (TIS)</h1>
      
      <div class="d-none name"><code>TIS.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Tissue Image Simulator (TIS) integrates the basic simulation
functions in spaSim, including simulating (mixed) background image,
clusters, immune rings, double immune rings and stripes. The patterns are
simulated on separate layers sequentially (e.g. immune rings are simulated
after/on top of background cells). And each layer is also plot
sequentially.</p>
<p>Pattern properties (e.g. <code>properties_of_clusters</code>) contain the properties
of a pattern in the format of list where each element is one pattern. These
properties need to be manually defined. Details about the format of the
properties see the examples in <a href="simulate_clusters.html">simulate_clusters</a>
<a href="simulate_immune_rings.html">simulate_immune_rings</a> <a href="simulate_double_rings.html">simulate_double_rings</a>
<a href="simulate_stripes.html">simulate_stripes</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">TIS</span><span class="op">(</span>
  bg_sample <span class="op">=</span> <span class="cn">NULL</span>,
  n_cells <span class="op">=</span> <span class="cn">NULL</span>,
  width <span class="op">=</span> <span class="cn">NULL</span>,
  height <span class="op">=</span> <span class="cn">NULL</span>,
  min_d <span class="op">=</span> <span class="cn">NULL</span>,
  oversampling_rate <span class="op">=</span> <span class="fl">1.2</span>,
  names_of_bg_cells <span class="op">=</span> <span class="cn">NULL</span>,
  proportions_of_bg_cells <span class="op">=</span> <span class="cn">NULL</span>,
  n_clusters <span class="op">=</span> <span class="cn">NULL</span>,
  properties_of_clusters <span class="op">=</span> <span class="cn">NULL</span>,
  n_immune_rings <span class="op">=</span> <span class="cn">NULL</span>,
  properties_of_immune_rings <span class="op">=</span> <span class="cn">NULL</span>,
  n_double_rings <span class="op">=</span> <span class="cn">NULL</span>,
  properties_of_double_rings <span class="op">=</span> <span class="cn">NULL</span>,
  n_stripe_type <span class="op">=</span> <span class="cn">NULL</span>,
  properties_of_stripes <span class="op">=</span> <span class="cn">NULL</span>,
  image_name <span class="op">=</span> <span class="cn">NULL</span>,
  plot_image <span class="op">=</span> <span class="cn">FALSE</span>,
  plot_categories <span class="op">=</span> <span class="cn">NULL</span>,
  plot_colours <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>bg_sample</dt>
<dd><p>(OPTIONAL) A data.frame or SingleCellExperiment class object
with locations of points representing background cells. Further cell types
will be simulated based on this background sample. The data.frame or the
metadata of the SCE object should have colnames including
"Cell.X.Positions" and "Cell.Y.Positions". By default use the internal
<code><a href="bg1.html">bg1</a></code> background image.</p></dd>
<dt>n_cells</dt>
<dd><p>(OPTIONAL) Number of background cells to simulate. Only when
<code>bg_sample</code> is NULL.</p></dd>
<dt>width</dt>
<dd><p>(OPTIONAL) Number The width of the image.</p></dd>
<dt>height</dt>
<dd><p>(OPTIONAL) Number The height of the image.</p></dd>
<dt>min_d</dt>
<dd><p>(OPTIONAL) Number The minimum distance between two cells.</p></dd>
<dt>oversampling_rate</dt>
<dd><p>(OPTIONAL) Numeric. The multiplier for oversampling.
Without oversampling, the simulation deletes cells that are within <code>min_d</code>
from each other, resulting in a less total number of cells than <code>n_cells</code>.
Default is 1.2 (this should be set based on <code>n_cells</code> and <code>min_d</code>; should
always be larger than 1).</p></dd>
<dt>names_of_bg_cells</dt>
<dd><p>(OPTIONAL) Vector The cell types of the background
cells. If NULL, the background cells are of one type.</p></dd>
<dt>proportions_of_bg_cells</dt>
<dd><p>(OPTIONAL) Vector The corresponding proportion
of each cell type in the background cells.</p></dd>
<dt>n_clusters</dt>
<dd><p>(OPTIONAL) Number of cell clusters. If NULL, no clusters to
simulate.</p></dd>
<dt>properties_of_clusters</dt>
<dd><p>(OPTIONAL) List of parameters to define the
clusters.</p></dd>
<dt>n_immune_rings</dt>
<dd><p>(OPTIONAL) Number of immune rings. If NULL, no immune
rings to simulate.</p></dd>
<dt>properties_of_immune_rings</dt>
<dd><p>(OPTIONAL) List of parameters to define the
immune rings.</p></dd>
<dt>n_double_rings</dt>
<dd><p>(OPTIONAL) Number of double immune rings. If NULL, no
double rings to simulate.</p></dd>
<dt>properties_of_double_rings</dt>
<dd><p>(OPTIONAL) List of parameters to define the
double immune rings.</p></dd>
<dt>n_stripe_type</dt>
<dd><p>(OPTIONAL) Number of stripe (vessel) types. If NULL, no
stripes to simulate.</p></dd>
<dt>properties_of_stripes</dt>
<dd><p>(OPTIONAL) List of parameters to define the
stripes.</p></dd>
<dt>image_name</dt>
<dd><p>(OPTIONAL) String to name the output tissue image.</p></dd>
<dt>plot_image</dt>
<dd><p>Boolean. Whether the simulated image is plotted.</p></dd>
<dt>plot_categories</dt>
<dd><p>String Vector specifying the order of the cell
categories to be plotted. Default is NULL - the cell categories under the
"Phenotype" column would be used for plotting.</p></dd>
<dt>plot_colours</dt>
<dd><p>String Vector specifying the order of the colours that
correspond to the <code>plot_categories</code> arg. Default is NULL - the predefined
colour vector would be used for plotting.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An sce object of the simulated image</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">610</span><span class="op">)</span></span>
<span class="r-in"><span class="va">double_ring_image</span> <span class="op">&lt;-</span> <span class="fu">TIS</span><span class="op">(</span>bg_sample<span class="op">=</span><span class="va">bg1</span>, n_clusters<span class="op">=</span><span class="fl">1</span>,</span>
<span class="r-in">properties_of_clusters<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>C1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span> name_of_cluster_cell<span class="op">=</span><span class="st">"Tumour"</span>,</span>
<span class="r-in">size<span class="op">=</span><span class="fl">300</span>, shape<span class="op">=</span><span class="st">"Oval"</span>, centre_loc<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"x"</span><span class="op">=</span><span class="fl">500</span>, <span class="st">"y"</span><span class="op">=</span><span class="fl">500</span><span class="op">)</span>,</span>
<span class="r-in">infiltration_types<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Immune1"</span>, <span class="st">"Others"</span><span class="op">)</span>, infiltration_proportions<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.05</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">plot_image<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-plt img"><img src="TIS-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Yuzhou Feng, Anna Trigos.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

